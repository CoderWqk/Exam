(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2476767b"],{3481:function(e,t,r){"use strict";var n=r("4b3a"),i=r.n(n);i.a},"4b3a":function(e,t,r){},"84ef":function(e,t,r){"use strict";var n=r("c6db"),i=r.n(n);i.a},8892:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticClass:"select-el-container"},[r("el-header",{staticClass:"select-el-header"},[r("el-page-header",{attrs:{content:"综合知识"},on:{back:e.goBack}})],1),r("el-main",{staticClass:"select-el-main"},[r("el-container",[r("el-header",[r("exam-head",{ref:"selectHead",on:{btnClick:e.start}},[r("span",{attrs:{slot:"btnName"},slot:"btnName"},[e._v("开始考试")])])],1),r("el-container",[r("el-main",[r("select-question",{ref:"select",attrs:{ccurrentChoiceQuestion:e.currentChoiceQuestion,ccurrentchoiceId:e.currentchoiceId,cradioClickEvent:e.radioClickEvent},on:{radioClick:e.getUserAnswer,finish:e.finishExam}})],1),r("el-aside",{directives:[{name:"show",rawName:"v-show",value:0!==e.currentChoiceQuestion.length,expression:"currentChoiceQuestion.length !== 0"}],staticClass:"select-el-progress",attrs:{width:"36%"}},[r("Progress",{attrs:{cpercentage:e.percentage}}),r("span",{staticClass:"timer"},[e._v(e._s(e._f("fixTime")(e._f("getHour")(e.currentTime)))+":"+e._s(e._f("fixTime")(e._f("getMinute")(e.currentTime)))+":"+e._s(e._f("fixTime")(e._f("getSecond")(e.currentTime))))])],1)],1)],1)],1)],1)},i=[],s=(r("a4d3"),r("e01a"),r("d28b"),r("fb6a"),r("d3b7"),r("3ca3"),r("ddb0"),r("bc3a")),a=r.n(s),o=r("a528"),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",e._l(e.ccurrentChoiceQuestion,(function(t,n){return r("div",{directives:[{name:"show",rawName:"v-show",value:t.questionId===e.currentchoiceId,expression:"item.questionId === currentchoiceId"}],key:n,on:{change:function(r){return e.getCurrentOption(r,t.questionId)}}},[r("div",{staticClass:"question"},[e._v(e._s(t.questionId)+"、"+e._s(t.question))]),r("br"),r("Radio",{attrs:{cid:t.questionId+"A",cname:t.questionId,cvalue:"A"}},[r("span",{attrs:{slot:"label"},slot:"label"},[e._v("A、"+e._s(t.chose.A))])]),r("Radio",{attrs:{cid:t.questionId+"B",cname:t.questionId,cvalue:"B"}},[r("span",{attrs:{slot:"label"},slot:"label"},[e._v("B、"+e._s(t.chose.B))])]),r("Radio",{attrs:{cid:t.questionId+"C",cname:t.questionId,cvalue:"C"}},[r("span",{attrs:{slot:"label"},slot:"label"},[e._v("C、"+e._s(t.chose.C))])]),r("Radio",{attrs:{cid:t.questionId+"D",cname:t.questionId,cvalue:"D"}},[r("span",{attrs:{slot:"label"},slot:"label"},[e._v("D、"+e._s(t.chose.D))])]),r("div",[r("el-button",{staticClass:"select-starexam-button",on:{click:e.upClick}},[e._v("上一题")]),r("el-button",{staticClass:"select-starexam-button",on:{click:e.downClick}},[e._v("下一题")]),r("span",{staticStyle:{"margin-left":"32px"}},[e._v("共")]),r("el-input",{staticStyle:{width:"50px",margin:"10px"},attrs:{value:e.ccurrentChoiceQuestion.length,disabled:!0}}),r("span",[e._v("题")]),r("el-button",{staticStyle:{"margin-left":"32px"},on:{click:e.finishExam}},[e._v("完成答题")])],1)],1)})),0)},l=[],u=(r("a9e3"),r("b7c7")),h={name:"SelectProgress",data:function(){return{currentchoiceId:this.ccurrentchoiceId}},components:{Radio:u["a"]},props:{ccurrentChoiceQuestion:{type:Array,default:function(){return[]}},ccurrentchoiceId:{type:Number,default:function(){return""}},cradioClickEvent:{type:Array,default:function(){return[]}}},methods:{getCurrentOption:function(e,t){this.$emit("radioClick",e,t)},upClick:function(){this.currentchoiceId>1?this.currentchoiceId--:this.$message({showClose:!0,message:"当前题目为第一题,请继续答题",type:"warning"})},downClick:function(){this.currentchoiceId<=this.cradioClickEvent.length?this.currentchoiceId<this.ccurrentChoiceQuestion.length?this.currentchoiceId++:(this.currentchoiceId=this.ccurrentChoiceQuestion.length)&&this.$message({showClose:!0,message:"已完成所有试题, 请提交试卷",type:"warning"}):this.$message({showClose:!0,message:"请完成当前试题",type:"warning"})},finishExam:function(){this.$emit("finish")}}},d=h,f=(r("84ef"),r("2877")),p=Object(f["a"])(d,c,l,!1,null,null,null),v=p.exports,m=r("eadc"),g={name:"MainSelect",components:{ExamHead:o["a"],SelectQuestion:v,Progress:m["a"]},data:function(){return{currentOption:[],currentChoiceQuestion:[],currentchoiceId:1,percentage:0,userAnswer:[],paperAnswer:[],radioClickEvent:[],timer:"",currentTime:7200,startDate:"",endDate:""}},props:{cquestionInfo:{type:Object,default:function(){return{}}},cerrorBookInfo:{type:Object,default:function(){return{}}},ccurrentPersonMsg:{type:Object,default:function(){return{}}}},methods:{goBack:function(){this.$router.go(-1)},start:function(){this.resetValue(),this.currentOption=this.$refs.selectHead.optionValue[0]+this.$refs.selectHead.optionValue[1],this.getQuestionInfo(),this.getPaperAnswer(),this.createTimer(),this.startDate=this.getCurrentTime()},getQuestionInfo:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=this.cquestionInfo.paperInfo[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var s=n.value;s.courseName===this.currentOption&&(this.currentChoiceQuestion=s.choiceQuestion)}}catch(a){t=!0,r=a}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}},getUserAnswer:function(e,t){this.radioClickEvent.push(e),this.userAnswer[t-1]=e.target.value,this.calcPercentage()},getPaperAnswer:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=this.currentChoiceQuestion[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var s=n.value;this.paperAnswer.push(s.answer)}}catch(a){t=!0,r=a}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}},calcPercentage:function(){this.percentage=parseInt(this.userAnswer.length/this.currentChoiceQuestion.length*100)},resetValue:function(){this.currentChoiceQuestion=[],this.$refs.select.currentchoiceId=1,this.percentage=0,this.userAnswer=[],this.paperAnswer=[],this.startDate="",this.endDate="",this.currentTime=7200,clearTimeout(this.timer);var e=!0,t=!1,r=void 0;try{for(var n,i=this.radioClickEvent[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var s=n.value;""!==s&&(s.target.checked="")}}catch(a){t=!0,r=a}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}},finishExam:function(){if(this.userAnswer.length===this.paperAnswer.length){this.endDate=this.getCurrentTime();var e=this.countScore();this.$message({showClose:!0,message:"恭喜你完成了本次答题, 得分为  "+e,type:"success"}),clearTimeout(this.timer)}else this.$message({showClose:!0,message:"试题尚未全部完成, 请继续完成试题",type:"warning"})},countScore:function(){for(var e=0,t=0,r=[],n=0;n<this.userAnswer.length;n++)this.userAnswer[n]===this.paperAnswer[n]?(e+=1,r[n]="right"):(r[n]="wrong",t+=1);return this.putPersonMsg(e),this.putErrorSet(r,t),e},putErrorSet:function(e,t){for(var r=0;r<e.length;r++)if("wrong"===e[r]){var n=!0,i=!1,s=void 0;try{for(var o,c=this.cerrorBookInfo.errorSet[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var l=o.value;this.currentChoiceQuestion[r].question===l.question&&(l.frequency+=1,e[r]="done")}}catch(h){i=!0,s=h}finally{try{n||null==c.return||c.return()}finally{if(i)throw s}}if("wrong"===e[r]){var u={frequency:1};u.question=this.currentChoiceQuestion[r].question,u.chose=this.currentChoiceQuestion[r].chose,u.answer=this.currentChoiceQuestion[r].answer,this.cerrorBookInfo.errorSet.push(u)}}return this.cerrorBookInfo.totalError+=t,a.a.put("http://localhost:3000/ErrorBook/"+this.$store.state.currentUserMsg.id,this.cerrorBookInfo)},createTimer:function(){var e=this,t=this;this.timer=setInterval((function(){0!=t.currentTime?t.currentTime--:(t.currentTime=0,alert("时间到"),clearTimeout(e.timer))}),1e3)},getCurrentTime:function(){var e=new Date,t=e.getFullYear(),r=this.$options.filters["fixTime"](e.getMonth()+1),n=this.$options.filters["fixTime"](e.getDate()),i=this.$options.filters["fixTime"](e.getHours()),s=this.$options.filters["fixTime"](e.getMinutes()),a=this.$options.filters["fixTime"](e.getSeconds()),o=t+"-"+r+"-"+n+"     "+i+":"+s+":"+a;return o},putPersonMsg:function(e){var t={};return 0===this.ccurrentPersonMsg.scoreInfo.length?t.order=1:t.order=this.ccurrentPersonMsg.scoreInfo.slice(-1)[0].order+1,t.category=this.currentOption,t.endDate=this.endDate,t.startDate=this.startDate,t.score=e,this.ccurrentPersonMsg.scoreInfo.push(t),a.a.put("http://localhost:3000/PersonMessage/"+this.$store.state.currentUserMsg.id,this.ccurrentPersonMsg)}},filters:{getHour:function(e){return e=e/60/60%24,parseInt(e)},getMinute:function(e){return e=e/60%60<10?"0"+e/60%60:e/60%60,parseInt(e)},getSecond:function(e){return e=e%60<10?"0"+e%60:e%60,parseInt(e)},fixTime:function(e){return e<10&&(e="0"+e),e}}},b=g,C=(r("da63"),Object(f["a"])(b,n,i,!1,null,null,null));t["default"]=C.exports},a528:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("span",[e._v("请选择试卷: ")]),r("el-cascader",{attrs:{options:e.paperOptions,props:{expandTrigger:"hover"}},model:{value:e.optionValue,callback:function(t){e.optionValue=t},expression:"optionValue"}}),r("el-button",{staticClass:"starexam-button",attrs:{round:""},on:{click:e.start}},[e._t("btnName")],2)],1)},i=[],s={name:"ExamHead",data:function(){return{buttonName:"",optionValue:[],paperOptions:[{value:"2009",label:"2009",children:[{value:"上半年",label:"上半年"},{value:"下半年",label:"下半年"}]},{value:"2010",label:"2010",children:[{value:"上半年",label:"上半年"},{value:"下半年",label:"下半年"}]},{value:"2011",label:"2011",children:[{value:"上半年",label:"上半年"},{value:"下半年",label:"下半年"}]},{value:"2012",label:"2012",children:[{value:"上半年",label:"上半年"},{value:"下半年",label:"下半年"}]},{value:"2013",label:"2013",children:[{value:"上半年",label:"上半年"},{value:"下半年",label:"下半年"}]},{value:"2014",label:"2014",children:[{value:"上半年",label:"上半年"},{value:"下半年",label:"下半年"}]},{value:"2015",label:"2015",children:[{value:"上半年",label:"上半年"},{value:"下半年",label:"下半年"}]},{value:"2016",label:"2016",children:[{value:"上半年",label:"上半年"},{value:"下半年",label:"下半年"}]},{value:"2017",label:"2017",children:[{value:"上半年",label:"上半年"},{value:"下半年",label:"下半年"}]},{value:"2018",label:"2018",children:[{value:"上半年",label:"上半年"},{value:"下半年",label:"下半年"}]}]}},methods:{start:function(){this.$emit("btnClick")}}},a=s,o=(r("3481"),r("2877")),c=Object(o["a"])(a,n,i,!1,null,null,null);t["a"]=c.exports},b879:function(e,t,r){},c6db:function(e,t,r){},da63:function(e,t,r){"use strict";var n=r("b879"),i=r.n(n);i.a}}]);
//# sourceMappingURL=chunk-2476767b.237c9c33.js.map