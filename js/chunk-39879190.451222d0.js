(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39879190"],{"0310":function(e,t,n){"use strict";var r=n("4548"),s=n.n(r);s.a},4548:function(e,t,n){},c1e3:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticClass:"test-el-container"},[n("el-header",{staticClass:"test-el-header"},[n("el-page-header",{attrs:{content:"每日一练"},on:{back:e.goBack}})],1),n("el-main",{staticClass:"test-el-main"},[n("el-container",[n("el-header",[n("el-button",{attrs:{round:""},on:{click:e.start}},[e._v("开始练习")])],1),n("el-container",[n("el-main",[n("daily-select-question",{ref:"daily",attrs:{crandomPaperInfo:e.randomPaperInfo,ccurrentchoiceId:e.currentchoiceId,cradioClickEvent:e.radioClickEvent},on:{radioClick:e.getUserAnswer,finish:e.finishExam}})],1),n("el-aside",{directives:[{name:"show",rawName:"v-show",value:0!==e.randomPaperInfo.length,expression:"randomPaperInfo.length !== 0"}],staticClass:"select-el-progress",attrs:{width:"36%"}},[n("Progress",{attrs:{cpercentage:e.percentage}})],1)],1)],1)],1)],1)},s=[],o=(n("a4d3"),n("e01a"),n("d28b"),n("c975"),n("fb6a"),n("d3b7"),n("3ca3"),n("ddb0"),n("bc3a")),i=n.n(o),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.crandomPaperInfo,(function(t,r){return n("div",{directives:[{name:"show",rawName:"v-show",value:t.questionId===e.currentchoiceId,expression:"item.questionId === currentchoiceId"}],key:r,on:{change:function(n){return e.getCurrentOption(n,t.questionId)}}},[n("div",{staticClass:"question"},[e._v(e._s(t.questionId)+"、"+e._s(t.question))]),n("br"),n("Radio",{attrs:{cid:t.questionId+"A",cname:t.questionId,cvalue:"A"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("A、"+e._s(t.chose.A))])]),n("Radio",{attrs:{cid:t.questionId+"B",cname:t.questionId,cvalue:"B"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("B、"+e._s(t.chose.B))])]),n("Radio",{attrs:{cid:t.questionId+"C",cname:t.questionId,cvalue:"C"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("C、"+e._s(t.chose.C))])]),n("Radio",{attrs:{cid:t.questionId+"D",cname:t.questionId,cvalue:"D"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("D、"+e._s(t.chose.D))])]),n("div",[n("el-button",{staticClass:"select-starexam-button",on:{click:e.upClick}},[e._v("上一题")]),n("el-button",{staticClass:"select-starexam-button",on:{click:e.downClick}},[e._v("下一题")]),n("span",{staticStyle:{"margin-left":"32px"}},[e._v("共")]),n("el-input",{staticStyle:{width:"50px",margin:"10px"},attrs:{value:e.crandomPaperInfo.length,disabled:!0}}),n("span",[e._v("题")]),n("el-button",{staticStyle:{"margin-left":"32px"},on:{click:e.finishExam}},[e._v("完成答题")])],1)],1)})),0)},c=[],l=(n("a9e3"),n("b7c7")),u={name:"DailySelectQuestion",data:function(){return{currentchoiceId:this.ccurrentchoiceId}},props:{crandomPaperInfo:{type:Array,default:function(){return[]}},ccurrentchoiceId:{type:Number,default:function(){return""}},cradioClickEvent:{type:Array,default:function(){return[]}}},components:{Radio:l["a"]},methods:{getCurrentOption:function(e,t){this.$emit("radioClick",e,t)},upClick:function(){this.currentchoiceId>1?this.currentchoiceId--:this.$message({showClose:!0,message:"当前题目为第一题,请继续答题",type:"warning"})},downClick:function(){this.currentchoiceId<=this.cradioClickEvent.length?this.currentchoiceId<this.crandomPaperInfo.length?this.currentchoiceId++:(this.currentchoiceId=this.crandomPaperInfo.length)&&this.$message({showClose:!0,message:"已完成所有试题, 请提交试卷",type:"warning"}):this.$message({showClose:!0,message:"请完成当前试题",type:"warning"})},finishExam:function(){this.$emit("finish")}}},h=u,d=n("2877"),f=Object(d["a"])(h,a,c,!1,null,null,null),p=f.exports,m=n("eadc"),g={name:"MainDailyTest",data:function(){return{randomPaperInfo:[],percentage:0,idArray:[],userAnswer:[],paperAnswer:[],currentchoiceId:1,radioClickEvent:[]}},props:{cquestionInfo:{type:Object,default:function(){return{}}},cerrorBookInfo:{type:Object,default:function(){return{}}}},components:{DailySelectQuestion:p,Progress:m["a"]},methods:{goBack:function(){this.$router.go(-1)},start:function(){this.resetValue(),this.getPaperInfo()},getId:function(e){for(var t=[],n=0;n<666666;n++){var r=this.getRandomNum(0,this.cquestionInfo.paperInfo.length),s=this.getRandomNum(0,this.cquestionInfo.paperInfo[r].choiceQuestion.length),o=r+""+s;if(-1===t.indexOf(o)&&t.push(o),t.length===e)break}return t},getRandomNum:function(e,t){return Math.floor(Math.random()*(t-e))+e},getPaperInfo:function(){this.idArray=this.getId(10);for(var e=0;e<this.idArray.length;e++){var t=parseInt(this.idArray[e].slice(0,1)),n=parseInt(this.idArray[e].slice(1,2)),r=this.cquestionInfo.paperInfo;this.paperAnswer[e]=r[t].choiceQuestion[n].answer;var s={questionId:e+1,question:r[t].choiceQuestion[n].question,chose:r[t].choiceQuestion[n].chose,answer:r[t].choiceQuestion[n].answer};this.randomPaperInfo.push(s)}},getUserAnswer:function(e,t){this.radioClickEvent.push(e),this.userAnswer[t-1]=e.target.value,this.calcPercentage()},calcPercentage:function(){this.percentage=parseInt(this.userAnswer.length/this.randomPaperInfo.length*100)},finishExam:function(){this.userAnswer.length===this.paperAnswer.length?(this.countScore(),this.$message({showClose:!0,message:"恭喜你完成了本次答题, 得分为"+this.countScore(),type:"success"})):this.$message({showClose:!0,message:"试题尚未全部完成, 请继续完成试题",type:"warning"})},countScore:function(){for(var e=0,t=0,n=[],r=0;r<this.userAnswer.length;r++)this.userAnswer[r]===this.paperAnswer[r]?(e+=1,n[r]="right"):(n[r]="wrong",t+=1);return this.putErrorSet(n,t),e},putErrorSet:function(e,t){for(var n=0;n<e.length;n++)if("wrong"===e[n]){var r=!0,s=!1,o=void 0;try{for(var a,c=this.cerrorBookInfo.errorSet[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var l=a.value;this.randomPaperInfo[n].question===l.question&&(l.frequency+=1,e[n]="done")}}catch(h){s=!0,o=h}finally{try{r||null==c.return||c.return()}finally{if(s)throw o}}if("wrong"===e[n]){var u={frequency:1};u.question=this.randomPaperInfo[n].question,u.chose=this.randomPaperInfo[n].chose,u.answer=this.randomPaperInfo[n].answer,this.cerrorBookInfo.errorSet.push(u)}}this.cerrorBookInfo.totalError+=t,i.a.put("http://localhost:3000/ErrorBook/"+this.$store.state.currentUserMsg.id,this.cerrorBookInfo)},resetValue:function(){this.randomPaperInfo=[],this.percentage=0,this.$refs.daily.currentchoiceId=1;var e=!0,t=!1,n=void 0;try{for(var r,s=this.radioClickEvent[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var o=r.value;""!==o&&(o.target.checked="")}}catch(i){t=!0,n=i}finally{try{e||null==s.return||s.return()}finally{if(t)throw n}}}}},I=g,v=(n("0310"),Object(d["a"])(I,r,s,!1,null,null,null));t["default"]=v.exports}}]);
//# sourceMappingURL=chunk-39879190.451222d0.js.map